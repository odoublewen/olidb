{% extends "oliapp/base.html" %}
{% load oliapp_extras %}

{% block title %}Experiments{% endblock %}

{% block content %}
    <div id="header-row" class="row-fluid">
        <div class="span12">
            <h1>Browse Experiments</h1>
        </div>
    </div>

    <div id="filter-row" class="row-fluid">
        <form id="filter-form" class="form form-inline" action="{% url 'experiments' %}" method="get">
        <div class="checkbox">
            <label><input {% if user.is_anonymous %}disabled{% endif %} type="checkbox" name="mine" value="T" {% if g.mine == 'T' %}checked{% endif %}> Show only my experiments</label>
        </div>
        <button id="search-button" type="submit" class="btn btn-default">Filter</button>
        </form>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <table class="table table-striped table-bordered display" id="maintable">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>name</th>
                        <th>description</th>
                        <th>user</th>
                        <th>date</th>
                        <th>size</th>
                    </tr>
                </thead>
                <tbody>
                {% for i in items %}
                    <tr>
                        <td><a href="{% url 'oligosets' %}?exp={{ i.id }}">{{ i.id }}</a></td>
                        <td>{{ i.name }}</td>
                        <td>{{ i.description }}</td>
                        <td>{{ i.oliuser.name }}</td>
                        <td><nobr>{% isodate i.date %}</nobr></td>
                        <td>{{ i.oligosets.all|length }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script type="text/javascript">
        $(document).ready(function() {
            $('#maintable').DataTable();
        } );
    </script>
{% endblock %}


{% extends "base.html" %}
{% import "_pagination.html" as pg %}
{% block title %}Browse Designs{% endblock %}

{% block content %}
    <div id="header-row" class="row-fluid">
        <div class="span12">
            <h1>Browse Experiments</h1>
        </div>
    </div>

    <div id="filter-row" class="row-fluid">
        <form id="filter-form" class="form form-inline" action="{{ url_for('experiments') }}" method="get">
        {{ pg.render_pagination() }}
        <input id="search-term" placeholder="Search term(s)" name="term" type="text" onclick="this.select()" class="form-control" value="{{ g.term if g.term is defined and g.term is not none }}">
        <div class="checkbox">
            <label><input {% if current_user.is_anonymous() %}disabled{% endif %} type="checkbox" name="mine" value="T" {% if g.mine == 'T' %}checked{% endif %}> Show only my experiments</label>
        </div>
        <button id="search-button" type="submit" class="btn btn-default">Filter</button>
        </form>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>User</th>
                        <th>Date</th>
                        <th>Size</th>
                    </tr>
                </thead>
                <tbody>
                {% for i in g.pagination.items %}
                    <tr>
                        <td>{{ i.id }}</td>
                        <td><a href="{{ url_for('oligosets', exp=i.id) }}">{{ i.name }}</a></td>
                        <td>{{ i.description }}</td>
                        <td>{{ i.user_id }}</td>
                        <td>{{ i.date | isodate }}</td>
                        <td>{{ i.oligosets|length }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}